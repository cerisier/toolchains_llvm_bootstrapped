--- a/third_party/musl/getnameinfo.c	2026-01-01 03:33:01
+++ b/third_party/musl/getnameinfo.c	2026-01-01 03:33:40
@@ -175,14 +175,14 @@
 	unsigned char *a;
 	unsigned scopeid;
 
-	switch (af) {
-	case AF_INET:
+	/* AF_* values are resolved from runtime syscons in cosmo; keep the
+	 * comparisons dynamic rather than relying on switch case constants. */
+	if (af == AF_INET) {
 		a = (void *)&((struct sockaddr_in *)sa)->sin_addr;
 		if (sl < sizeof(struct sockaddr_in)) return EAI_FAMILY;
 		mkptr4(ptr, a);
 		scopeid = 0;
-		break;
-	case AF_INET6:
+	} else if (af == AF_INET6) {
 		a = (void *)&((struct sockaddr_in6 *)sa)->sin6_addr;
 		if (sl < sizeof(struct sockaddr_in6)) return EAI_FAMILY;
 		if (memcmp(a, "\0\0\0\0\0\0\0\0\0\0\xff\xff", 12))
@@ -190,8 +190,7 @@
 		else
 			mkptr4(ptr, a+12);
 		scopeid = ((struct sockaddr_in6 *)sa)->sin6_scope_id;
-		break;
-	default:
+	} else {
 		return EAI_FAMILY;
 	}
 
